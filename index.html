<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8"/>
      <title>Company Events</title>
      <script>document.write('<base href="' + document.location + '" />');</script>
      <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/bootstrap.css">
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.4/angular.js"></script>
      <script src="http://code.angularjs.org/1.2.4/angular-route.js"></script>
      <script type="text/javascript"
         src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
      <script type="text/javascript" src="restangular.js"></script>
      <script src="app.js"></script>
   </head>
   <body ng-app="event">
      <div ng-view></div>
      <!-- CACHE FILE: events.list.html -->
      <script type="text/ng-template" id="events.list.html">
         <br/>
             <input type="text" ng-model="search" class="search-query" placeholder="Search">
             <h3>Company Events</h3>
             <table class="table table-hover">
                 <thead>
                 <tr>
                     <th>Event Name</th>
                     <th>Start Date</th>
                     <th>End Date</th>
                     <th>Venue</th>
                     <th>Event Description</th>
                     <th><a href="#/new"><i class="icon-plus-sign"></i></a></th>
                 </tr>
                 </thead>
                 <tbody>
                 <tr ng-repeat="event in events | filter:search | orderBy:'event'" ng-show="event._id.$oid">
                     <td>{{event.eventname}}</td>
                     <td>{{event.startdate}}</td>
                     <td>{{event.enddate}}</td>
                     <td>{{event.venue}}</td>
                     <td>{{event.eventdescription}}</td>
                      
                     <td>
                         <a href="#/edit/{{event._id.$oid}}"><i class="icon-pencil"></i></a>
                     </td>
                 </tr>
                 </tbody>
             </table>
             <!--<h3>Groups</h3>
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>Name group</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="group in groups | filter:search | orderBy:'name'" ng-show="group._id.$oid">
                    <td>{{group.name}}</td>
                </tr>
                </tbody>
            </table>-->
      </script>
      <!-- CACHE FILE: events.detail.html -->
      <script type="text/ng-template" id="events.detail.html">
         <br/>
             <form name="myForm" class="form-horizontal">
              <div class="control-group" ng-class="{error: myForm.eventname.$invalid}">
                     <label class="control-label" for="eventname">Event Name</label>
                     <div class="controls">
                     <input type="text" name="eventname" ng-model="event.eventname" required>
                     </div>
                 </div>
                 <div class="control-group" ng-class="{error: myForm.startdate.$invalid}">
                     <label class="control-label" for="startdate">Event Start Date</label>
                     <div class="controls">
                         <input type="text" name="startdate" ng-model="event.startdate" required>
                     </div>
                 </div>
                 <div class="control-group" ng-class="{error: myForm.enddate.$invalid}">
                     <label class="control-label" for="enddate">Event End Date</label>
                     <div class="controls">
                         <input type="text" name="enddate" ng-model="event.enddate" required>
                     </div>
                 </div>
                 
                 <div class="control-group" ng-class="{error: myForm.venue.$invalid}">
                     <label class="control-label" for="venue">Venue</label>
                     <div class="controls">
                         <input type="text" name="venue" ng-model="event.venue" required>
                     </div>
                 </div>
                 <div class="control-group" ng-class="{error: myForm.eventdescription.$invalid}">
                     <label class="control-label" for="eventdescription">Event Description</label>
                     <div class="controls">
                         <textarea name="eventdescription" ng-model="event.eventdescription" required></textarea>
                     </div>
                 </div> 
                 <br>         
                 <a href="#/" class="btn">Cancel</a>
                 <button ng-click="save()" ng-disabled="isClean() || myForm.$invalid"
                         class="btn btn-primary">Save
                 </button>
                 <button ng-click="destroy()"
                         ng-show="event._id" class="btn btn-danger">Delete
                 </button>
             </form>
             
      </script>
   </body>
</html>